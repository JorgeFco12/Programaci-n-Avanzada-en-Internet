<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>2do Canva Angulo Flores</title>

</head>
<style>
    #mycanvas{
        border: 1px solid black;
        background-color: grey;
    }
</style>

<body style="background-color:white;">
    
   <canvas id="mycanvas" width="500" height="500"> </canvas>
    

</body>

<script>

        var canvas = document.getElementById('mycanvas'); 
        var ctx = canvas.getContext('2d');

        var color;
        var figura = true;
        ctx.fillStyle=color;

        /*canvas.addEventListener("click",(event)=> {

            if(figura){
            ctx.beginPath();
                ctx.arc(event.layerX, event.layerY, 40, 0, 2*Math.PI); 
                ctx.fill();
                ctx.stroke();
            ctx.closePath();

            }else{
                ctx.fillRect(event.layerX-50, event.layerY-50, 50, 50 );
                ctx.strokeRect(event.layerX-50, event.layerY-50, 50,50);
            }
        })*/

        canvas.addEventListener("mouseover",(event)=> {
            color = random_rgba();
            ctx.fillStyle= color;
        })

        function random_rgba() {
            var o = Math.round, r = Math.random, s = 255;
            return 'rgba(' + o(r()*s) + ',' + o(r()*s) + ',' + o(r()*s) + ',' + r().toFixed(1) + ')';
        }
        var color = random_rgba();



        canvas.addEventListener("mouseout",(event)=> {
            figura=!figura;
        })


        var presionando = false; //Validacion para evento de presionar mouse

        canvas.addEventListener("mousemove",(event)=> {
            if(presionando){
                ctx.beginPath();
                    ctx.arc(event.layerX, event.layerY, 2, 0, 2*Math.PI); 
                    ctx.fill();
                    ctx.stroke();
                ctx.closePath();
            }
        })

        canvas.addEventListener("mousedown",(event)=> {
            presionando = true;
            if(figura){
                ctx.beginPath();
                ctx.arc(event.layerX, event.layerY, 40, 0, 2*Math.PI); 
                ctx.fill();
                ctx.stroke();
                ctx.closePath();
            }else{
                ctx.fillRect(event.layerX-50, event.layerY-50, 50, 50 );
                ctx.strokeRect(event.layerX-50, event.layerY-50, 50,50);
            }
        });

        canvas.addEventListener("mouseup",(event)=> {
            presionando = false;
        });

        //onclick = (event) => {};

        //CIRCULO 1
        /*ctx.beginPath();
            ctx.fillStyle="green";
            ctx.arc(event.layerX, e.layerY, 50, 0, 2*Math.PI); //derecha abjo grande
            ctx.fill();
        ctx.closePath();
    */

    /*

    ctx.beginPath();
        ctx.fillStyle = "white";
        ctx.font = "20px Georgia";
        ctx.fillText("Hola Jorge!", 10, 40);
        
        ctx.stroke = "black";
        ctx.font = "20px Georgia";
        ctx.strokeText("Hola Jorge!", 12, 42);
    ctx.closePath();

    ctx.beginPath();
        const grd = ctx.createLinearGradient(20, 5, 0, 20);
        grd.addColorStop(0, "pink");
        grd.addColorStop(.5, "yellow");
        grd.addColorStop(1, "green");

        ctx.fillStyle = grd;
        ctx.fillRect(15, 60, 100, 50); //DERECHA, ABAJO ,ANCHO, ALTO
    ctx.closePath();

    ctx.beginPath();
        const grd2 = ctx.createRadialGradient(170,80,1,215,110,60); // X,Y,
        grd2.addColorStop(0, "red");
        grd2.addColorStop(0.4, "yellow");

        ctx.fillStyle = grd2;
        ctx.fillRect(130, 60, 100, 50);
    ctx.closePath();

    ctx.beginPath();
        var myImage = document.getElementById("img");
        ctx.drawImage(myImage , 150 , 5, 100, 50);
    ctx.closePath();
*/

    

</script>

</html>